<header class="bg-primary text-white sticky top-0 z-50 shadow-lg" x-data="{ open: false, dropdownOpen: null }">
  <div class="container mx-auto flex flex-wrap md:flex-nowrap items-center justify-between p-4 max-w-[76rem]">
    
    <div class="w-72">
      <a href="{{ '/' | relative_url }}" title="Home" class="group block border-2 border-transparent hover:border-secondary transition-all p-1">
        {% if site.logo_url %}
          <img src="{{ site.logo_url | relative_url }}" alt="{{ site.title }}" class="h-12 md:h-16 w-auto group-hover:opacity-90">
        {% else %}
          <div class="leading-tight">
            <p class="block font-black text-xl md:text-2xl uppercase tracking-tighter">IDD ABDULMAJID</p>
            <p class="text-secondary font-bold text-xs tracking-[0.2em]">#MCHAKACHAKA2027</p>
          </div>
        {% endif %}
      </a>
    </div>

    <div class="md:hidden">
      <button type="button" class="p-2 focus:outline-none" @click="open = ! open" aria-label="Toggle menu">
        <svg x-show="!open" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8 text-secondary">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
        </svg>
        <svg x-show="open" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8 text-secondary">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <div class="w-full mt-4 md:w-auto md:mt-0 md:block" :class="!open ? 'hidden' : ''" x-transition>
      <ul class="flex flex-col md:flex-row md:items-center">
        {% for item in site.data.navigation.items %}
          <li class="relative group nav-item border-b border-white/10 md:border-b-0" 
              {% if item.dropdown %} @mouseenter="dropdownOpen = '{{ item.name }}'" @mouseleave="dropdownOpen = null" {% endif %}>
            
            <a href="{{ item.link | relative_url }}" 
               class="text-white block no-underline font-extrabold uppercase text-sm tracking-wide mx-0 my-2 p-3 md:my-0 md:mx-3 md:py-6 hover:text-secondary transition-colors">
              {{- item.name -}}
              {% if item.dropdown %}
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline ml-1 transform group-hover:rotate-180 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                </svg>
              {% endif %}
            </a>

            {% if item.dropdown %}
              <ul class="bg-white md:absolute md:top-full md:left-0 md:min-w-[240px] md:shadow-xl md:rounded-b-lg overflow-hidden transition-all duration-300"
                  x-show="window.innerWidth > 768 ? dropdownOpen === '{{ item.name }}' : true"
                  x-transition:enter="md:translate-y-0" x-transition:enter-start="md:-translate-y-2 opacity-0">
                {% for sub_item in item.dropdown %}
                  <li>
                    <a href="{{ sub_item.link | relative_url }}" 
                       class="block text-primary font-bold p-4 hover:bg-secondary/10 border-l-4 border-transparent hover:border-secondary no-underline transition-all">
                      {{- sub_item.name -}}
                    </a>
                  </li>
                {% endfor %}
              </ul>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</header>